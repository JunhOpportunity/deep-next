# κµ¬μ΅° ν¨ν„΄ (Composition pattern)
> μ–΄λ–¤ κ²½μ°μ— μ–΄λ–¤ μ»΄ν¬λ„νΈλ¥Ό μ‚¬μ©ν•΄μ•Ό ν• κΉ?

## μ„λ²„ μ»΄ν¬λ„νΈ VS ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ

| κΈ°λ¥ | μ„λ²„ μ»΄ν¬λ„νΈ | ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ |
| --- | --- | --- |
| λ°μ΄ν„° κ°€μ Έμ¤κΈ° | β… |  |
| λ°±μ—”λ“ λ¦¬μ†μ¤μ— μ§μ ‘ μ ‘κ·Ό | β… |  |
| λ―Όκ°ν• μ •λ³΄ μ„λ²„μ— λ³΄κ΄€(μ•΅μ„Έμ¤ ν† ν°, API ν‚¤ λ“±) | β… |  |
| μ„λ²„ μμ΅΄μ„± μ μ§€ / ν΄λΌμ΄μ–ΈνΈ JavaScript κ°μ† | β… |  |
| μƒνΈμ‘μ© λ° μ΄λ²¤νΈ λ¦¬μ¤λ„(Β onClick(),Β onChange()λ“±) μ¶”κ°€ |  | β… |
| μƒνƒ λ° μλ…μ£ΌκΈ° ν¨κ³Ό μ‚¬μ©(Β useState(),Β useReducer(),Β useEffect()λ“±) |  | β… |
| λΈλΌμ°μ € μ „μ© API μ‚¬μ© |  | β… |
| state, effect, λΈλΌμ°μ € μ „μ© APIμ— λ”°λΌ λ‹¬λΌμ§€λ” μ»¤μ¤ν…€ ν›… μ‚¬μ© |  | β… |
| React class componentΒ μ‚¬μ© |  | β… |

## μ„λ²„ μ»΄ν¬λ„νΈ ν¨ν„΄

### 1. μ»΄ν¬λ„νΈ κ°„ λ°μ΄ν„° κ³µμ 

π’΅ μ„λ²„μ—μ„ μ‚¬μ©ν•  μ μ—†λ” React Context, Prop λ°μ΄ν„° μ „λ‹¬ λ€μ‹ μ— μΊμ‹ ν•¨μλ¥Ό μ‚¬μ©ν•΄ ν•„μ”ν• μ»΄ν¬λ„νΈμ— λ™μΌν• λ°μ΄ν„°λ¥Ό κ°€μ Έμ¤λ„λ΅ ν•  μ μλ‹¤. Reactλ” fetchλ¥Ό ν™•μ¥ν•΄ λ°μ΄ν„° μ”μ²­μ„ μλ™μΌλ΅ λ©”λ¨μ΄μ μ΄μ… ν•κ³  fetchλ¥Ό μ‚¬μ©ν•  μ μ—†μ„ λ• μΊμ‹ ν•¨μλ¥Ό μ‚¬μ©ν•  μ μκΈ° λ•λ¬Έμ΄λ‹¤.

### 2. ν΄λΌμ΄μ–ΈνΈ ν™κ²½μ—μ„ μ„λ²„ μ „μ© μ½”λ“

μ„λ²„μ—μ„λ§ μ‹¤ν–‰λλ„λ΅ μλ„λ μ½”λ“κ°€ ν΄λΌμ΄μ–ΈνΈμ— λ“¤μ–΄κ° μ μκΈ° λ•λ¬Έμ— μ§μ ‘ μ‘μ„±ν•μ§€ λ§κ³  ν•¨μλ¥Ό νΈμ¶ν•λ” λ°©μ‹μΌλ΅ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤. (μλ¥Ό λ“¤λ©΄ getUser, getData λ“±)

π’΅ μ—¬κΈ°μ„ μ£Όμν•΄μ•Ό ν•  κ²ƒμ€ ν™κ²½ λ³€μλ¥Ό μ‚¬μ©ν•λ” κ²½μ°μ— ν΄λΌμ΄μ–ΈνΈ μΈ΅μ—μ„λ§ NextJSκ°€ ν™κ²½ λ³€μλ¥Ό λΉ λ¬Έμμ—΄λ΅ λ°”κΎΈκΈ° λ•λ¬Έμ— ν΄λΌμ΄μ–ΈνΈ ν™κ²½μ—μ„ ν™κ²½ λ³€μλ¥Ό μ‚¬μ©ν•λ” ν•¨μκ°€ μλ‹¤λ©΄ μ‘λ™ν•μ§€ μ•λ”λ‹¤.

### 3. μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ μ „μ© ν¨ν‚¤μ§€ μ‚¬μ©

ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„λ§ μ‚¬μ©ν•  μ μλ” APIλ¥Ό μ„λ²„ μ»΄ν¬λ„νΈμ—μ„ μ‚¬μ©ν•λ ¤κ³  ν•λ” κ²½μ° μ—λ¬κ°€ λ°μƒν•λ‹¤. μ΄λ• ν•΄λ‹Ή κΈ°λ¥μ„ μ‚¬μ©ν•λ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό ν•λ‚ μƒμ„±ν•κ³ , μ΄ μ»΄ν¬λ„νΈλ¥Ό μ„λ²„ μ»΄ν¬λ„νΈμ— λ„£μΌλ©΄ μ‚¬μ©ν•  μ μλ‹¤.

```jsx
// ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ
'use client'
 
import { Carousel } from 'acme-carousel'
 
export default Carousel

// μ„λ²„ μ»΄ν¬λ„νΈ
<Carousel />
```

## ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ ν¨ν„΄

### 1. ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό νΈλ¦¬ μ•„λλ΅ μ΄λ™ν•κΈ°

Javascript λ²λ“¤ ν¬κΈ°λ¥Ό μ¤„μ΄κΈ° μ„ν•΄ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μ»΄ν¬λ„νΈ νΈλ¦¬ μ•„λλ΅ μ΄λ™ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.
μλ¥Ό λ“¤λ©΄, μƒνΈμ‘μ©μ„ λ°λ“μ‹ ν•΄μ•Όν•λ” κΈ°λ¥μ„ κ°€μ§„ κ²ƒλ“¤μ€ μ»΄ν¬λ„νΈλ΅ λ”°λ΅ λ§λ“¤μ–΄ λ¶λ¬μ¤κ³ , μƒνΈμ‘μ©μ΄ ν•„μ” μ—†λ” κΈ°λ¥μ„ κ°€μ§„ κ²ƒλ“¤μ€ μ„λ²„ μ»΄ν¬λ„νΈλ΅ μ μ§€ν•λ” κ²ƒμ΄λ‹¤. 

λ¨λ“  μ»΄ν¬λ„νΈλ¥Ό ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ λ§λ“¤ ν•„μ”κ°€ μ—†κΈ° λ•λ¬Έμ΄λ‹¤.

## μ„λ²„ μ»΄ν¬λ„νΈ λλ” ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λΌμ›λ„£κΈ°

ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ” μ„λ²„ μ»΄ν¬λ„νΈ λ‹¤μμ— λ λ”λ§λκΈ° λ•λ¬Έμ— μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ¨λ“λ΅ κ°€μ Έμ¬ μ μ—†λ‹¤. λ€μ‹ μ— μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό props λ΅ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ— μ „λ‹¬ν•λ” κ²ƒμ€ κ°€λ¥ν•λ‹¤.

μΌλ°μ μΌλ΅λ” children ν”„λ΅νΌν‹°λ¥Ό μ‚¬μ©ν•΄ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈμ—μ„ μ¬λ΅―μ„ λ§λ“ λ‹¤.

```jsx
'use client'

import { useState } from 'react'
 
export default function ClientComponent({
  children,
}: {
  children: React.ReactNode
}) {
  const [count, setCount] = useState(0)
 
  return (
    <>
      <button onClick={() => setCount(count + 1)}>{count}</button>
      {children}
    </>
  )
}

```

```jsx
import ClientComponent 
import ServerComponent 

<ClientComponent>
   <ServerComponent />
</ClientComponent>
```